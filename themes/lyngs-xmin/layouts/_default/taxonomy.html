{{ partial "header.html" . }}

<div class="main-container container">
  
  <main>
    
    <!--<h1>THIS IS DRAWING FROM THEMES/LYNGS-XMIN/LAYOUTS/_DEFAULT/TAXONOMY.HTML</h1>-->
    <!-- ranges through each of the content files associated with a particular taxonomy term and renders the summary.html content view -->
    <div class="row">
      
      <!-- this is for the posts -->
      <div class="col-sm-9">
    
        {{ range .Pages }}
        <div class="row">
          
          <div class="col-sm-3">
            {{ .Date.Format "January 2, 2006" }}
          </div>
                
          <div class="col-sm-6">
            <h3><a href="{{ .RelPermalink }}">{{ .Title | markdownify }}</a></h3>
                  <p>{{ .Params.description | markdownify }}</p>
          </div>
                
          <div class="col-sm-3">
            <a href="{{ .RelPermalink }}"><img src="{{ .Params.teaser }}" class="img-fluid"></a>
          </div>
        
        </div>
      
        {{ end }}
      </div>
      
      <!-- this is for the categories -->
          <div class="col-sm-3">
            
            {{- $currentTaxonomy := index (split .URL "/") 2 -}}
            
            <h3>Categories</h3>
            <ul>
              {{range ($.Site.GetPage "taxonomyTerm" "categories").Pages }}
                <li>
                    <!-- bold the link if it's the category we're currently looking at -->
                    {{ if eq (.Title | urlize) $currentTaxonomy }}
                      <a href="{{.Permalink}}"><strong>{{.Title}}</strong></a><span class="postcount"> ({{len .Pages }})</span>
                    
                    {{ else }}
                      <a href="{{.Permalink}}">{{.Title}}</a><span class="postcount"> ({{len .Pages }})</span>
                      
                    {{ end }}
                    
                </li>
              {{end}}
              
            </ul>
          </div>
    
    </div>

  </main>
</div>

{{ partial "footer.html" . }}